[tox]
envlist = py34

[testenv]
setenv =
    PYTHONPATH = {toxinidir}:{toxinidir}/lahorie
    PYTHONWARNINGS=all
deps =
    -r{toxinidir}/requirements.txt


[pytest]
python_files=*.py
python_functions=test_
norecursedirs=.tox .git

[testenv:py33]
commands =
    py.test  test/

[testenv:py34]
commands =
    py.test  test/

[testenv:style]
deps =
    -r{toxinidir}/requirements.txt

[flake8]
ignore =
max-line-length = 160
exclude = tests/*
max-complexity = 10


[testenv:docs]
changedir = docs/
deps =
    -r{toxinidir}/requirements.txt

[sphinx]
commands =
    sphinx-build -b linkcheck ./ _build/
    sphinx-build -b html ./ _build/
